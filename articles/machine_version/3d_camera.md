# 结构光3D相机调研

## 1. 结论

符合

    条件1: 达到尺寸测量和缺陷检测的精度要求;
    条件2: 可以支持Linux系统

的厂家有两个: 一是上海**盛相科技**, 二是北京**博视像元**. 两家都是条纹结构光相机; 都采用硬件计算技术, 盛相科技使用FPGA, 博视像元使用内置GPU, 减轻上位机计算压力; 盛相科技的相机采用单相机单投影机结构, 博视像元多采用双相机单投影机结构. 盛相科技技术较成熟, 相机速度精度稳定性都较高, 但价格较贵; 博视像元的相机性价比更有优势.

## 2. 结构光3D相机市场概况

### 2.1. 技术路线

工业现场使用的结构光3D相机主要有三种, **激光线扫3D相机**, **条纹投影3D相机**和**线光谱共焦3D相机**. 还有其他两种常用的结构光3D相机: **散斑3D相机**和**TOF 3D相机**, 主要用在消费场景. 

| 技术路线 | 基本原理 | Z轴精度范围* | 适合场景 |
| --- | --- | --- | --- |
| 激光线扫 | 激光三角原理 | 1.5um~2.5um@100mm | 缺陷检测 |
| 条纹投影 | 移相算法 | 1.5um~100um@100mm | 机器人装卸, 尺寸测量, 缺陷检测 |
| 线光谱共焦 | 折射原理 | 50nm@50mm | 小范围测量, 缺陷检测 |
| 散斑投影 | 双目视觉| 100um@199mm | 人脸识别, 移动支付, 机器人装卸 |
| TOF | 光速公式 | 5mm@1m | 人机交互 |

*: Z轴精度来自于市场上的产品 

**线光谱共焦3D相机**视场较小, 50mm × 50mm左右, 速度较慢, 但精度很高. 
 
**激光线扫3D相机**基于激光三角原理, 技术比较成熟, Z轴精度很高, 在200mm宽度范围, Z轴精度5um, X轴精度10um, 做尺寸测量和缺陷检测是非常足够的, 且在测量长条形元器件也有其优势. 劣势是需要稳定的传动机构, 拍摄整幅图像速度较慢. 

**条纹投影3D相机**是基于移相算法, 是较新的技术, 各家做的精度速度差别较大. 优势是速度快, 3D点云密集, 缺点是技术和产业链还未成熟. 

**散斑3D相机**是传统双目立体视觉的改进版本, 但精度和点云密度都比同像素密度的条纹投影3D相机低, 且需要双目. 多用于消费场景, 也有公司用于机器人装卸领域. 

所以, 100mm ~ 300mm视场的工业现场视觉测量和缺陷检测常使用的结构光3D相机有**线激光3D相机**和**条纹投影3D相机**. 

**线激光3D相机**, 现在看到的基本都是输出采集的图像, 通过上位计算机对应软件计算3D坐标. 而**条纹投影3D相机**部分厂商采用硬件计算技术, 使用FPGA或GPU计算3D坐标, 相机直接输出3D输出; 部分厂商采用上位计算机对应软件计算3D坐标. 

**条纹投影3D相机**最基础的机型由一个投影机和一个相机构成; 也有一些厂商推出一些双相机单投影机的结构, 也有单相机四投影机的结构. 

相机数据接口一般分两种: **GigE**和**USB3.0**.

### 2.2. 市场概况

**激光线扫3D相机**技术比较成熟, **基恩士**是国内外行业标杆, 国内**深视智能**做得比较好, 从精度指标来看, **中科行智**的也不错. 

**条纹投影3D相机**技术较新, 国内**盛相科技**积累较其他公司深厚, 产品在速度和精度上都有优势, 可以用于尺寸测量和缺陷检测. 国内**梅卡曼德**公司将条纹投影用在在机器人装卸领域, 具先发优势, 市场占有率比较高.  

国内无锡**微视传感**, 自研条纹投影芯片, 据其表述, 精度介于**散斑**和**TI DMD**之间, 他们自己开发的3D相机Z轴精度0.1mm, 达不到尺寸测量和缺陷检测的要求.

国内生产3D相机的厂商还有**熵智科技**, **图漾科技**, **芯歌科技**, **灵西机器人**, **艾尔森**, 普遍精度较低. 

## 3. 调研的几个结构光3D相机

共调研了8家企业的共10款3D相机, 基恩士, 熵智科技未联系, 只在其官网或产品手册查看产品及其技术指标. 

### 3.1. 几款符合要求的结构光3D相机

#### 3.1.1. 盛相科技 S028120

    类型: 条纹投影3D相机
    工作范围(mm): 
        基准距离: 200
        标准视场范围: 120 * 90.9
        深度测量范围: ±30
    帧率：≤20.3FPS(@0.7M), ≤8.7FPS(@2.8M)
    精度:
        Z轴单点重复精度(um): 1.2
        Z轴区域重复精度(um): 0.11
        像素间距(XY轴精度, mm): 0.062@120(≈0.05%)
    计算方式: FPGA
    价格：￥70000 ~ 80000
    软件平台: 支持Linux

#### 3.1.2. 盛相科技 S162230

    类型: 条纹投影3D相机
    工作范围(mm): 
        基准距离: 365
        标准视场范围: 230 * 131.2
        深度测量范围: ±45
    帧率：≤14.5FPS(@4.05M), ≤4.0FPS(@16.2M)
    精度:
        Z轴单点重复精度(um): 2.05
        Z轴区域重复精度(um): 0.12
        像素间距(XY轴精度, mm): 0.043@230(≈0.02%)
    计算方式: FPGA
    价格：￥130000 ~ 150000
    软件平台: 支持Linux

#### 3.1.3. 博视像元 HP3530B
    类型: 条纹投影3D相机
    工作范围(mm):
        工作距离: 300
        测量深度: 90
        视野范围: 180 × 135
    CMOS分辨率: 5M
    DLP分辨率: 1280 × 720
    精度(um):
        XY分辨率: 75
        Z轴重复精度: 10
    帧率: ≤ 15FPS
    计算方式: GPU
    价格: ￥50000~60000
    软件平台: 支持Linux

### 3.2. 其他几款结构光3D相机

#### 3.2.1. 基恩士 LJ-X8400

    类型: 激光线扫3D相机
    工作范围(mm):
        近端深度: 285
        近端线宽: 163
        远端深度: 600
        远端线宽: 320
        典型深度: 380
        典型线宽: 210
    帧率: 1kHz, 最高16kHz
    精度(um):
        深度(Z轴): 5
        宽度(X轴): 10
    计算方式: 未知
    价格: ￥65000(来源于淘宝)

#### 3.2.2. 深视智能 SR9160

    类型: 激光线扫3D相机
    工作范围(mm): 
        参考距离: 160
        Z轴高度: 90
        X轴近端宽度: 84
        X轴参考宽度: 99
        X轴远端宽度:120
    帧率：1.5kHz ~ 13kHz
    精度：
        Z轴重复精度(um): 1.5
        X轴重复精度(um): 4
        X轴数据间隔(um): 19
        X轴数据点数: 6400
    计算方式: 上位机
    价格：￥45000 ~ 48000
    软件平台: 不支持Linux系统. windows, intel i7, 16G, 64位

#### 3.2.3. 中科行智 AT-LL210
    类型: 激光线扫3D相机
    工作范围(mm):
        基准距离: 372
        测量范围: 371
        视野范围: 119~295.5
    帧率: 500~4000
    精度:
        Z轴重复精度(um): 10
        Z轴线性度: ±0.05%
    计算方式: 上位机
    价格: ￥30000左右
    软件平台:

#### 3.2.4. 中科行智 AT-SL240

    类型: 条纹投影3D相机
    工作范围(mm):
        安装距离: 390
        视野:230 × 135
        Z轴测量范围: ±50
    精度(um):
        Z轴重复精度: 3
    帧率: 3
    计算方式: 上位机
    价格: 30000左右
    软件支持：

#### 3.2.5. 梅卡曼德 PRO XS

    类型: 条纹投影3D相机
    工作范围(mm):
        推荐工作距离(mm):300 - 600
        近端视场: 220 * 160
        远端视场: 420 × 320
    分辨率: 1280 × 1024
    精度(mm):
        Z轴单点重复精度: 0.1
        VDI/VDE测量精度: 0.1
    采集时间(s): 0.7 ~ 1.1
    价格:￥80000(包含软件和服务)
    软件平台: windows

#### 3.2.6. 熵智科技 SP600

    类型: 条纹投影3D相机
    工作范围(mm):
        工作距离: 1000 ~ 1400
        推荐工作距离: 1200
        近端视场: 680 × 440
        远端视场: 830 × 610
    精度(mm): 
        XY方向分辨率: 0.38 ~ 0.45
        Z轴精度: 0.059
    成像速度(s):2.5 


#### 3.2.7. 微视传感 VS-PDN600

    类型: 条纹投影3D相机
    工作范围(mm):
        推荐工作距离: 200 ~ 600
        近端视场: 187 × 168
        远端视场: 623 × 459
    精度(mm):
        Z轴精度: 0.1
    采集时间(s): 0.4 ~ 0.8 
    价格: ￥14000 ~ 22000
    软件平台: 可以支持Linux

